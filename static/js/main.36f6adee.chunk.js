(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1_MXN",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__IT2tP"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1Ycys",Modal:"Modal_Modal__jnnXh"}},26:function(e,t,a){e.exports={Button:"Button_Button__1OH8q"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2Tetv"}},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(7),r=a.n(o),c=a(16),i=a(4),l=a(12),s=a.n(l);s.a.defaults.baseURL="https://pixabay.com/api";var d=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,o=void 0===n?1:n,r=e.perPage,c=void 0===r?12:r;return s.a.get("?q=".concat(a,"&per_page=").concat(c,"&page=").concat(o,"&image_type=photo&orientation=horizontal&key=").concat("19717497-dac00bc00e9230cbef98621a0")).then((function(e){return e.data}))},u=a(5),b=a(1),m=Object(u.a)({Searchbar:{top:0,left:0,position:"sticky",zIndex:1100,display:"flex",justifyContent:"center",alignItems:"center",minHeight:64,padding:{right:24,left:24,top:12,bottom:12},color:"#fff",backgroundColor:"#3f51b5",boxShadow:[[0,2,4,-1,"rgba(0, 0, 0, 0.2)"],[0,4,5,0,"rgba(0, 0, 0, 0.14)"],[0,1,10,0,"rgba(0, 0, 0, 0.12)"]]},SearchForm:{display:"flex",alignItems:"center",width:"100%",maxWidth:600,backgroundColor:"#fff",borderRadius:3,overflow:"hidden"},SearchFormButton:{display:"inline-block",width:48,height:48,border:0,background:{image:"url('https://image.flaticon.com/icons/svg/149/149852.svg')",size:"40%",repeat:"no-repeat",position:"center"},opacity:.6,transition:"opacity 250ms cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",outline:"none","&:hover":{opacity:1},"& span":{position:"absolute",width:1,height:1,padding:0,overflow:"hidden",clip:" rect(0, 0, 0, 0)",whiteSpace:"nowrap",clipPath:"inset(50%)",border:0}},SearchFormInput:{display:"inline-block",width:"100%",font:"inherit",fontSize:20,border:"none",outline:"none",paddingLeft:4,paddingRight:4,"&::placeholder":{font:"inherit",fontSize:18}}}),f=function(e){var t=e.onSubmit,a=Object(n.useState)(""),o=Object(i.a)(a,2),r=o[0],c=o[1],l=m();return Object(b.jsx)("header",{className:l.Searchbar,children:Object(b.jsxs)("form",{className:l.SearchForm,onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(b.jsx)("button",{type:"submit",className:l.SearchFormButton,children:Object(b.jsx)("span",{children:"Search"})}),Object(b.jsx)("input",{className:l.SearchFormInput,type:"text",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.target;c(t.value)}})]})})},g=a.p+"static/media/default.0a63f821.jpg",p=a(14),j=a.n(p),h=function(e){var t=e.alt,a=e.src,n=e.srcModal,o=e.onOpenModal;return Object(b.jsx)("li",{className:j.a.ImageGalleryItem,children:Object(b.jsx)("img",{src:a,alt:t,className:j.a.ImageGalleryItemImage,onClick:function(){o(n,t)}})})};h.defaultProps={srcModal:g,src:g,onOpenModal:function(){}};var O=h,y=a(10),v=a.n(y),x=a(26),I=a.n(x),S=function(e){var t=e.title,a=e.type,n=e.onLoadMore,o=e.btnLoadMoreDisabled;return Object(b.jsx)("button",{className:I.a.Button,type:a,onClick:function(){n()},disabled:o,children:t})};S.defaultProps={title:"button",type:"button",onLoadMore:function(){}};var M=S,w=Object(u.a)({title:{marginTop:20,fontSize:30,color:"red",textAlign:"center"}}),_=function(e){var t=e.message,a=w();return Object(b.jsx)("p",{className:a.title,children:t})};_.defaultProps={message:""};var L=_,k=a(15),G=a.n(k),N=document.querySelector("#modal-root"),P=function(e){var t=e.alt,a=e.srcModal,r=e.onCloseModal,c=function(e){"Escape"===e.code&&r()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}})),Object(o.createPortal)(Object(b.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:Object(b.jsx)("div",{className:G.a.Modal,children:Object(b.jsx)("img",{src:a,alt:t})})}),N)};P.defaultProps={onCloseModal:function(){}};var C=P,F=a(27),B=a.n(F),E=function(e){var t=e.images,a=e.totalImages,o=e.onLoadMore,r=e.btnLoadMoreDisabled,c=e.isLoading,l=Object(n.useState)(!1),s=Object(i.a)(l,2),d=s[0],u=s[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),g=f[0],p=f[1],j=Object(n.useState)(""),h=Object(i.a)(j,2),y=h[0],x=h[1],I=function(e,t){u(!0),p(e),x(t)};return Object(b.jsxs)(b.Fragment,{children:[a>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:B.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL,o=e.tags;return Object(b.jsx)(O,{alt:o,src:a,srcModal:n,onOpenModal:I},t)}))}),Object(b.jsx)(v.a,{type:"Puff",color:"#3f51b5",height:60,width:60,visible:c}),Object(b.jsx)(M,{type:"button",title:"Load more",onLoadMore:o,btnLoadMoreDisabled:r})]}):Object(b.jsx)(L,{message:"Please enter a more specific querry!"}),d&&Object(b.jsx)(C,{alt:y,srcModal:g,onCloseModal:function(){u(!1),p(""),x("")}})]})},z=Object(u.a)({App:{display:"grid",gridTemplateColumns:"1fr",gridGap:16,paddingBottom:24,"& svg":{display:"block",marginLeft:"auto",marginRight:"auto"}}}),T=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),s=l[0],u=l[1],m=Object(n.useState)(1),g=Object(i.a)(m,2),p=g[0],j=g[1],h=Object(n.useState)(null),O=Object(i.a)(h,2),y=O[0],x=O[1],I=Object(n.useState)(!1),S=Object(i.a)(I,2),M=S[0],w=S[1],_=Object(n.useState)(!1),L=Object(i.a)(_,2),k=L[0],G=L[1],N=z();return Object(n.useEffect)((function(){s&&(G(!0),d({searchQuery:s,currentPage:p}).then((function(e){if(o((function(t){return[].concat(Object(c.a)(t),Object(c.a)(e.hits))})),x(e.totalHits),(e.hits.length<12||e.totalHits===e.hits.length*(p-1))&&w(!0),!(p<2)){var t=document.documentElement.clientHeight+document.documentElement.scrollTop-150;window.scrollTo({top:t,behavior:"smooth"})}})).catch((function(e){return console.log(e)})).finally((function(){return G(!1)})))}),[s,p]),Object(b.jsxs)("div",{className:N.App,children:[Object(b.jsx)(f,{onSubmit:function(e){e!==s&&(u(e),j(1),o([]),x(null),w(!1))}}),!y&&Object(b.jsx)(v.a,{type:"Puff",color:"#3f51b5",height:60,width:60,visible:k}),null!==y&&Object(b.jsx)(E,{images:a,totalImages:y,onLoadMore:function(){j((function(e){return e+1}))},btnLoadMoreDisabled:M,isLoading:k})]})};a(76),a(77);r.a.render(Object(b.jsx)(n.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.36f6adee.chunk.js.map